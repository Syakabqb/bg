<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <!--모바일페이지크기조절메타태그-->
    <title>전체화면 test</title>
</head>

<body id="body" style="margin:0px; border:0px; padding:0px; background-color: red;">
    <div id="main" class="bgdiv" style="margin:0px; border:0px; padding:0px">
        <button id="btnFull" onclick="funcFullRequest()">전체화면</button>
        <button id="btn2" style="position:absolute"></button>
    </div>
    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>

    <script>
        var height = document.documentElement.clientHeight
        var width = document.documentElement.clientWidth

        var windowWidth = window.innerWidth
        var windowHeight = window.innerHeight

        var windowOuterWidth = window.outerWidth
        var windowOuterHeight = window.outerHeight


        var count = 20

        var mainDiv = document.getElementById("main")
        var body = document.getElementById("body")

        mainDiv.style.height = height + "px"
        mainDiv.style.width = width + "px"

        var heightMainDiv = document.getElementById("main").style.height
        var widthMainDiv = document.getElementById("main").style.width

        mainDiv.style.backgroundImage = "url('img/bg.jpg')"
        mainDiv.style.backgroundSize = width + "px " + height + "px"
        mainDiv.style.backgroundRepeat = "no-repeat"
        var btnFull = document.getElementById("btnFull")
        btnFull.style.fontSize = "5vh"
        funcUpdateSize()



        function funcFullRequest() {
            mainDiv.requestFullscreen()
            mainDiv.style.backgroundSize = width + "px " + height + "px"

            // setTimeout(function() {
            //     funcUpdateSize()
            // }, 1000)
        }
        $(window).resize(function () {
            funcUpdateSize()
        });

        function funcUpdateSize() {
            count++
            height = document.documentElement.clientHeight
            width = document.documentElement.clientWidth

            var btnThis = document.getElementById("btn2")
            btnThis.style.top = "0px"
            btnThis.style.left = 0.5 * width + "px"
            btnThis.style.height = 0.99 * height + "px"
            btnThis.style.width = 0.3 * width + "px"

            mainDiv.style.backgroundSize = width + "px " + height + "px"



            windowWidth = window.innerWidth
            windowHeight = window.innerHeight

            windowOuterWidth = window.screen.availWidth
            windowOuterHeight = window.screen.availHeight



            heightMainDiv = document.getElementById("main").style.height
            widthMainDiv = document.getElementById("main").style.width
            btnFull.innerHTML = count + ":<br>" +
                width + "," + height + "<br>" +
                widthMainDiv + "," + heightMainDiv + "<br>" +
                windowWidth + "," + windowHeight + "<br>" +
                windowOuterWidth + "," + windowOuterHeight
        }
    </script>

</body>